(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{257:function(t,e,r){"use strict";r.r(e);r(30);var n=r(2),o=(r(53),r(72),r(256)),c={data:function(){return{posts:[],currentPage:1,pagination:3,allPosts:[],base:"/blog"}},computed:{totalPages:function(){return Math.ceil(this.allPosts.length/this.pagination)},showPreviousPage:function(){return 1!==this.currentPage},previousPage:function(){return[0,1].includes(this.currentPage-1)?this.base:"".concat(this.base,"?page=").concat(this.currentPage-1)},showNextPage:function(){return this.currentPage!==this.totalPages},nextPage:function(t,e){return this.totalPages>this.currentPage?"".concat(this.base,"?page=").concat(this.currentPage+1):"".concat(this.base,"?page=").concat(this.currentPage)}},methods:{formatDate:function(t){return Object(o.a)(new Date(t),"MMMM d, Y")}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$content().fetch();case 2:return t.allPosts=e.sent,t.currentPage=parseInt(t.$route.query.page)?parseInt(t.$route.query.page):1,t.currentPage>t.totalPages&&(t.$router.push("/blog"),window.location.href="/blog"),e.next=7,t.$content().sortBy("date","desc").limit(t.pagination).skip((t.currentPage-1)*t.pagination).fetch();case 7:t.posts=e.sent;case 8:case"end":return e.stop()}}),e)})))()},fetchOnServer:!1},l=r(17),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-inner mx-auto py-16"},[t._l(t.posts,(function(e,n){return r("div",{key:n,staticClass:"post border-gray-400 border-b mb-12"},[r("h2",{staticClass:"text-3xl font-bold"},[r("nuxt-link",{staticClass:"text-copy-primary",attrs:{to:"/posts/"+e.slug}},[t._v(t._s(e.title))])],1),t._v(" "),r("div",{staticClass:"text-copy-secondary mb-4"},[r("span",[t._v(t._s(t.formatDate(e.date)))])]),t._v(" "),r("div",{staticClass:"text-lg mb-4"},[t._v("\n      "+t._s(e.summary)+"\n    ")]),t._v(" "),r("div",{staticClass:"mb-8"},[r("nuxt-link",{staticClass:"font-bold uppercase",attrs:{to:"/posts/"+e.slug}},[t._v("Read More")])],1)])})),t._v(" "),r("div",{staticClass:"flex justify-between text-xl items-center"},[r("a",{class:{"text-gray-400 hover:text-gray-400 cursor-not-allowed":!t.showPreviousPage},attrs:{href:t.previousPage}},[t._v("← Prev")]),t._v(" "),r("div",{staticClass:"text-base"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]),t._v(" "),r("a",{class:{"text-gray-400 hover:text-gray-400 cursor-not-allowed":!t.showNextPage},attrs:{href:t.nextPage}},[t._v("Next →")])])],2)}),[],!1,null,null,null);e.default=component.exports}}]);